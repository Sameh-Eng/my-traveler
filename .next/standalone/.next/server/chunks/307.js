"use strict";exports.id=307,exports.ids=[307],exports.modules={39232:(e,s,t)=>{t.d(s,{Z:()=>R});var a=t(10326),r=t(17577),i=t(74723),n=t(74064),l=t(770),d=t(77636),c=t(97147),o=t(37358),m=t(94019),u=t(83855),f=t(24061),h=t(941),x=t(88307),p=t(99837),g=t(89175),j=t(2102),y=t(92520),N=t(93939),b=t(48468);let v=l.Ry({tripType:l.Km(["one-way","round-trip","multi-city"]),flights:l.IX(l.Ry({from:l.Z_().min(3,"From airport required"),to:l.Z_().min(3,"To airport required"),departureDate:l.Z_().min(1,"Departure date required"),returnDate:l.Z_().optional()})).min(1).max(4),passengers:l.Ry({adults:l.Rx().min(1,"At least one adult required").max(9,"Maximum 9 adults"),children:l.Rx().min(0).max(8,"Maximum 8 children"),infants:l.Rx().min(0).max(4,"Maximum 4 infants")}),cabinClass:l.Km(["economy","premium-economy","business","first"]),flexible:l.Ry({enabled:l.O7(),days:l.Rx().min(1).max(7)}),filters:l.Ry({directFlightsOnly:l.O7(),nearbyAirports:l.O7()})}).refine(e=>{if("round-trip"===e.tripType){let s=e.flights[0];if(s.returnDate&&s.departureDate)return new Date(s.returnDate)>new Date(s.departureDate)}return!0},{message:"Return date must be after departure date",path:["flights",0,"returnDate"]}),w=[{code:"NYC",name:"New York City",country:"USA"},{code:"LON",name:"London",country:"UK"},{code:"PAR",name:"Paris",country:"France"},{code:"LAX",name:"Los Angeles",country:"USA"},{code:"TKO",name:"Tokyo",country:"Japan"},{code:"SYD",name:"Sydney",country:"Australia"},{code:"DXB",name:"Dubai",country:"UAE"},{code:"SIN",name:"Singapore",country:"Singapore"}],R=({onSubmit:e,loading:s=!1,className:t="",compact:l=!1})=>{let[R,C]=(0,r.useState)(!1),[T,O]=(0,r.useState)("round-trip"),{register:k,control:D,handleSubmit:S,watch:I,setValue:A,getValues:_,formState:{errors:E}}=(0,i.cI)({resolver:(0,n.F)(v),mode:"onSubmit",defaultValues:{tripType:"round-trip",flights:[{from:"",to:"",departureDate:"",returnDate:""}],passengers:{adults:1,children:0,infants:0},cabinClass:"economy",flexible:{enabled:!1,days:3},filters:{directFlightsOnly:!1,nearbyAirports:!1}}}),z=I("flights"),Z=I("passengers");I("cabinClass");let $=e=>{A("flights",z.filter((s,t)=>t!==e))},P=e=>{let s=z[e];A(`flights.${e}.from`,s.to),A(`flights.${e}.to`,s.from)};return a.jsx("div",{className:`bg-white rounded-xl shadow-lg ${l?"p-6":"p-8"} ${t}`,children:(0,a.jsxs)("form",{onSubmit:S(s=>{console.log("=== Form Submit Debug ==="),console.log("Raw form data:",JSON.stringify(s,null,2));let t={tripType:s.tripType,passengers:s.passengers,cabinClass:s.cabinClass,flights:s.flights.map(e=>({from:e.from,to:e.to,departureDate:e.departureDate,..."round-trip"===s.tripType&&e.returnDate&&{returnDate:e.returnDate}})),flexible:s.flexible,filters:{...s.filters.directFlightsOnly&&{maxStops:0}}};console.log("Transformed flightSearchData:",JSON.stringify(t,null,2)),e(t)}),className:"space-y-6",children:[a.jsx(i.Qr,{name:"tripType",control:D,render:({field:e})=>a.jsx(y.mQ,{value:e.value,onValueChange:s=>{e.onChange(s),O(s),A("flights",[{from:"",to:"",departureDate:"",returnDate:""}])},children:(0,a.jsxs)(y.dr,{className:"grid w-full grid-cols-3",children:[a.jsx(y.SP,{value:"one-way",children:"One Way"}),a.jsx(y.SP,{value:"round-trip",children:"Round Trip"}),a.jsx(y.SP,{value:"multi-city",children:"Multi City"})]})})}),(0,a.jsxs)("div",{className:"space-y-4",children:[z.map((e,s)=>(0,a.jsxs)("div",{className:"relative",children:[s>0&&a.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-300"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:["multi-city"===T&&a.jsx("div",{className:"hidden md:flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-medium",children:s+1})}),(0,a.jsxs)("div",{className:"multi-city"===T?"md:col-span-3":"md:col-span-5",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(g.I,{...k(`flights.${s}.from`),placeholder:"From where?",leftIcon:a.jsx(d.Z,{className:"h-4 w-4"}),error:!!E.flights?.[s]?.from,className:"pr-10"}),(0,a.jsxs)(j.Ph,{children:[a.jsx(j.i4,{className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 border-none bg-transparent",children:a.jsx(j.ki,{})}),a.jsx(j.Bw,{children:w.map(e=>a.jsx(j.Ql,{value:e.code,onClick:()=>A(`flights.${s}.from`,e.code),children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium",children:e.code}),a.jsx("div",{className:"text-sm text-gray-500",children:e.name})]})},e.code))})]})]}),E.flights?.[s]?.from&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.flights[s]?.from?.message})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(p.z,{type:"button",variant:"ghost",size:"icon",onClick:()=>P(s),className:"rotate-90 md:rotate-0",children:a.jsx(c.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)("div",{className:"multi-city"===T?"md:col-span-3":"md:col-span-5",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(g.I,{...k(`flights.${s}.to`),placeholder:"To where?",leftIcon:a.jsx(d.Z,{className:"h-4 w-4"}),error:!!E.flights?.[s]?.to,className:"pr-10"}),(0,a.jsxs)(j.Ph,{children:[a.jsx(j.i4,{className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 border-none bg-transparent",children:a.jsx(j.ki,{})}),a.jsx(j.Bw,{children:w.map(e=>a.jsx(j.Ql,{value:e.code,onClick:()=>A(`flights.${s}.to`,e.code),children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium",children:e.code}),a.jsx("div",{className:"text-sm text-gray-500",children:e.name})]})},e.code))})]})]}),E.flights?.[s]?.to&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.flights[s]?.to?.message})]}),(0,a.jsxs)("div",{className:"multi-city"===T?"md:col-span-4":"md:col-span-2",children:[a.jsx(g.I,{...k(`flights.${s}.departureDate`),type:"date",leftIcon:a.jsx(o.Z,{className:"h-4 w-4"}),error:!!E.flights?.[s]?.departureDate,min:new Date().toISOString().split("T")[0]}),E.flights?.[s]?.departureDate&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.flights[s]?.departureDate?.message})]}),"round-trip"===T&&0===s&&(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(g.I,{...k(`flights.${s}.returnDate`),type:"date",placeholder:"Return",leftIcon:a.jsx(o.Z,{className:"h-4 w-4"}),error:!!E.flights?.[s]?.returnDate,min:z[0]?.departureDate||new Date().toISOString().split("T")[0]}),E.flights?.[s]?.returnDate&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.flights[s]?.returnDate?.message})]}),"multi-city"===T&&s>0&&a.jsx("div",{className:"flex justify-center",children:a.jsx(p.z,{type:"button",variant:"ghost",size:"icon",onClick:()=>$(s),className:"text-red-600 hover:text-red-700",children:a.jsx(m.Z,{className:"h-4 w-4"})})})]})]},s)),"multi-city"===T&&z.length<4&&(0,a.jsxs)(p.z,{type:"button",variant:"outline",onClick:()=>{z.length<4&&A("flights",[...z,{from:"",to:"",departureDate:"",returnDate:""}])},className:"w-full border-dashed",children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Add Flight"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50",onClick:()=>C(!R),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(f.Z,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-900",children:(()=>{let{adults:e,children:s,infants:t}=Z,a=[];return e>0&&a.push(`${e} Adult${e>1?"s":""}`),s>0&&a.push(`${s} Child${s>1?"ren":""}`),t>0&&a.push(`${t} Infant${t>1?"s":""}`),`${e+s+t} ${a.join(", ")}`})()})]}),a.jsx(h.Z,{className:"h-4 w-4 text-gray-400"})]}),R&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-10 p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(b._,{className:"text-sm font-medium",children:"Adults (12+)"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>A("passengers.adults",Math.max(1,Z.adults-1)),disabled:Z.adults<=1,children:"-"}),a.jsx("span",{className:"w-12 text-center",children:Z.adults}),a.jsx(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>A("passengers.adults",Math.min(9,Z.adults+1)),disabled:Z.adults>=9,children:"+"})]})]}),(0,a.jsxs)("div",{children:[a.jsx(b._,{className:"text-sm font-medium",children:"Children (2-11)"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>A("passengers.children",Math.max(0,Z.children-1)),disabled:Z.children<=0,children:"-"}),a.jsx("span",{className:"w-12 text-center",children:Z.children}),a.jsx(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>A("passengers.children",Math.min(8,Z.children+1)),disabled:Z.children>=8,children:"+"})]})]}),(0,a.jsxs)("div",{children:[a.jsx(b._,{className:"text-sm font-medium",children:"Infants (under 2)"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>A("passengers.infants",Math.max(0,Z.infants-1)),disabled:Z.infants<=0,children:"-"}),a.jsx("span",{className:"w-12 text-center",children:Z.infants}),a.jsx(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>A("passengers.infants",Math.min(4,Z.infants+1)),disabled:Z.infants>=4,children:"+"})]})]})]})})]}),a.jsx(i.Qr,{name:"cabinClass",control:D,render:({field:e})=>(0,a.jsxs)(j.Ph,{value:e.value,onValueChange:e.onChange,defaultValue:"economy",children:[a.jsx(j.i4,{children:a.jsx(j.ki,{placeholder:"Select class"})}),(0,a.jsxs)(j.Bw,{children:[a.jsx(j.Ql,{value:"economy",children:"Economy"}),a.jsx(j.Ql,{value:"premium-economy",children:"Premium Economy"}),a.jsx(j.Ql,{value:"business",children:"Business"}),a.jsx(j.Ql,{value:"first",children:"First Class"})]})]})})]}),a.jsx("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(i.Qr,{name:"flexible.enabled",control:D,render:({field:e})=>a.jsx(N.X,{checked:e.value,onCheckedChange:e.onChange})}),a.jsx(b._,{className:"text-sm",children:"Flexible dates"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(i.Qr,{name:"filters.directFlightsOnly",control:D,render:({field:e})=>a.jsx(N.X,{checked:e.value,onCheckedChange:e.onChange})}),a.jsx(b._,{className:"text-sm",children:"Direct flights only"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(i.Qr,{name:"filters.nearbyAirports",control:D,render:({field:e})=>a.jsx(N.X,{checked:e.value,onCheckedChange:e.onChange})}),a.jsx(b._,{className:"text-sm",children:"Include nearby airports"})]})]}),a.jsx(p.z,{type:"submit",loading:s,disabled:s,className:"w-full sm:w-auto btn-glow",leftIcon:a.jsx(x.Z,{className:"h-4 w-4"}),children:"Search Flights"})]})})]})})}},47375:(e,s,t)=>{t.d(s,{Ol:()=>l,SZ:()=>c,Zb:()=>n,aY:()=>o,ll:()=>d});var a=t(10326),r=t(17577),i=t(51223);let n=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let l=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},93939:(e,s,t)=>{t.d(s,{X:()=>d});var a=t(10326),r=t(17577),i=t(13635),n=t(32933),l=t(51223);let d=r.forwardRef(({className:e,...s},t)=>a.jsx(i.fC,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:a.jsx(i.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:a.jsx(n.Z,{className:"h-4 w-4"})})}));d.displayName=i.fC.displayName},48468:(e,s,t)=>{t.d(s,{_:()=>c});var a=t(10326),r=t(17577),i=t(29152),n=t(79360),l=t(51223);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...s},t)=>a.jsx(i.f,{ref:t,className:(0,l.cn)(d(),e),...s}));c.displayName=i.f.displayName},2102:(e,s,t)=>{t.d(s,{Bw:()=>x,Ph:()=>o,Ql:()=>p,i4:()=>u,ki:()=>m});var a=t(10326),r=t(17577),i=t(99336),n=t(941),l=t(96633),d=t(32933),c=t(51223);let o=i.fC;i.ZA;let m=i.B4,u=r.forwardRef(({className:e,children:s,error:t,leftIcon:r,...l},d)=>(0,a.jsxs)(i.xz,{ref:d,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t&&"border-destructive focus:ring-destructive",r&&"pl-10",e),...l,children:[r&&a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:r}),s,a.jsx(i.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let f=r.forwardRef(({className:e,...s},t)=>a.jsx(i.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(l.Z,{className:"h-4 w-4"})}));f.displayName=i.u_.displayName;let h=r.forwardRef(({className:e,...s},t)=>a.jsx(i.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(n.Z,{className:"h-4 w-4"})}));h.displayName=i.$G.displayName;let x=r.forwardRef(({className:e,children:s,position:t="popper",...r},n)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:n,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[a.jsx(f,{}),a.jsx(i.l_,{className:(0,c.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),a.jsx(h,{})]})}));x.displayName=i.VY.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.__.displayName;let p=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(d.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:s})]}));p.displayName=i.ck.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},92520:(e,s,t)=>{t.d(s,{SP:()=>c,dr:()=>d,mQ:()=>l,nU:()=>o});var a=t(10326),r=t(17577),i=t(28407),n=t(51223);let l=i.fC,d=r.forwardRef(({className:e,...s},t)=>a.jsx(i.aV,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));d.displayName=i.aV.displayName;let c=r.forwardRef(({className:e,...s},t)=>a.jsx(i.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));c.displayName=i.xz.displayName;let o=r.forwardRef(({className:e,...s},t)=>a.jsx(i.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=i.VY.displayName},1152:(e,s,t)=>{t.d(s,{ZL:()=>p});var a,r=t(94464);class i extends Error{constructor(e,s="UNKNOWN_ERROR",t=500,a=!0,r){super(e),this.code=s,this.statusCode=t,this.isOperational=a,this.context=r,Error.captureStackTrace&&Error.captureStackTrace(this,i),Object.setPrototypeOf(this,i.prototype)}}class n extends i{constructor(e,s,t){super(e,"VALIDATION_ERROR",400,!0,{field:s,...t})}}class l extends i{constructor(e="Authentication required",s){super(e,"AUTHENTICATION_ERROR",401,!0,s)}}class d extends i{constructor(e="Insufficient permissions",s){super(e,"AUTHORIZATION_ERROR",403,!0,s)}}class c extends i{constructor(e="Resource not found",s){super(e,"NOT_FOUND_ERROR",404,!0,s)}}class o extends i{constructor(e="Network error occurred",s){super(e,"NETWORK_ERROR",0,!0,s)}}class m extends i{constructor(e="Request timed out",s,t){super(e,"TIMEOUT_ERROR",408,!0,{timeout:s,...t})}}class u extends i{constructor(e,s,t,a){super(e,`API_ERROR_${s}`,s,!0,{response:t?.status,...a})}}let f=e=>{if(e instanceof i)return e;if(e?.response){let s=e.response.status,t=e.response.data;if(400===s&&t?.errors){let e="Validation failed";return Array.isArray(t.errors)?e=t.errors.map(e=>e.msg||e.message).join(", "):"object"==typeof t.errors&&(e=Object.values(t.errors)[0]||"Validation failed"),new n(e,void 0,t)}return 401===s?new l(t?.message||"Authentication required"):403===s?new d(t?.message||"Insufficient permissions"):404===s?new c(t?.message||"Resource not found"):408===s?new m(t?.message||"Request timed out"):s>=500?new u(t?.message||"Server error occurred",s,e.response,t):new u(t?.message||e.message,s,e.response,t)}return e?.code==="NETWORK_ERROR"||e?.message?.includes("Network")?new o(e.message):e?.code==="TIMEOUT_ERROR"||e?.message?.includes("timeout")?new m(e.message):new i(e?.message||"An unexpected error occurred","UNKNOWN_ERROR",500,!0,{originalError:e})};!function(e){e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical"}(a||(a={}));class h{constructor(){this.client=r.Z.create({baseURL:"http://localhost:8082/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{let s=this.getStoredToken();return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>{let s=f(e);return console.error("API Error:",s),Promise.reject(s)})}getStoredToken(){return null}async handleRequest(e,s,t,a,r=0,i=3){try{return(await this.client.request({method:e,url:s,data:t,...a})).data}catch(l){let n=f(l);if("AUTHENTICATION_ERROR"===n.code)throw this.clearStoredToken(),n;if(n instanceof o&&r<i){let n=1e3*Math.pow(2,r);return await new Promise(e=>setTimeout(e,n)),this.handleRequest(e,s,t,a,r+1,i)}if(n instanceof m&&r<i){let n=1e3*Math.pow(2,r);return await new Promise(e=>setTimeout(e,n)),this.handleRequest(e,s,t,a,r+1,i)}throw n}}clearStoredToken(){}async get(e,s){return this.handleRequest("GET",e,void 0,s)}async post(e,s,t){return this.handleRequest("POST",e,s,t)}async put(e,s,t){return this.handleRequest("PUT",e,s,t)}async delete(e,s){return this.handleRequest("DELETE",e,void 0,s)}async patch(e,s,t){return this.handleRequest("PATCH",e,s,t)}}let x=new h,p={searchFlights:async e=>x.post("/flights/search",e),getFlightDetails:async e=>x.get(`/flights/${e}`),getFlightPrices:async e=>x.get(`/flights/${e}/prices`),getSeatMap:async(e,s)=>{let t=s?`/flights/${e}/seatmap/${s}`:`/flights/${e}/seatmap`;return x.get(t)}}}};