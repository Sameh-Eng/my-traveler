(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6176],{8925:function(e,i,t){Promise.resolve().then(t.bind(t,9827))},1723:function(e,i,t){"use strict";t.d(i,{Z:function(){return a}});let a=(0,t(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9827:function(e,i,t){"use strict";t.r(i);var a=t(7437);t(2265);var s=t(9376),r=t(1047),o=t(1723),l=t(5805),n=t(3774),c=t(6381),d=t(6858),m=t(8133),x=t(7662),h=t(2720),p=t(6334),u=t(757),g=t(2368),v=t(2391),f=t(3448),N=t(3958);i.default=()=>{let e=(0,s.useRouter)(),{loading:i,setLoading:t,setSearchResults:y,searchParams:b,setSearchParams:j,hasSearched:w,error:A,setError:D}=(0,v.r$)(),S=e=>{var i,t,a,s,r,o,l,n,c,d,m,x,h,p,u,g,v,f,N,y,b,j,w;let A="economy",D=(null===(i=e.price)||void 0===i?void 0:i[A])||(null===(t=e.price)||void 0===t?void 0:t.economy)||0;return{id:e.flightId||e.id,airline:{id:(null===(a=e.airline)||void 0===a?void 0:a.iata)||(null===(s=e.airline)||void 0===s?void 0:s.icao)||"UNK",name:(null===(r=e.airline)||void 0===r?void 0:r.name)||"Unknown Airline",code:(null===(o=e.airline)||void 0===o?void 0:o.iata)||(null===(l=e.airline)||void 0===l?void 0:l.icao)||"UNK",logo:"/airlines/".concat(((null===(n=e.airline)||void 0===n?void 0:n.iata)||"default").toLowerCase(),".png"),rating:4.5},legs:[{id:"leg-".concat(e.flightId),from:{code:(null===(c=e.departure)||void 0===c?void 0:c.iata)||"",name:(null===(d=e.departure)||void 0===d?void 0:d.airport)||"",city:(null===(m=e.departure)||void 0===m?void 0:m.airport)||"",country:"",timezone:(null===(x=e.departure)||void 0===x?void 0:x.timezone)||""},to:{code:(null===(h=e.arrival)||void 0===h?void 0:h.iata)||"",name:(null===(p=e.arrival)||void 0===p?void 0:p.airport)||"",city:(null===(u=e.arrival)||void 0===u?void 0:u.airport)||"",country:"",timezone:(null===(g=e.arrival)||void 0===g?void 0:g.timezone)||""},departure:(null===(v=e.departure)||void 0===v?void 0:v.scheduled)||"",arrival:(null===(f=e.arrival)||void 0===f?void 0:f.scheduled)||"",duration:k(e.duration),flightNumber:e.flightNumber||(null===(N=e.flight)||void 0===N?void 0:N.iata)||"",aircraft:(null===(y=e.aircraft)||void 0===y?void 0:y.icao24)||"Unknown",terminal:null===(b=e.departure)||void 0===b?void 0:b.terminal,gate:null===(j=e.departure)||void 0===j?void 0:j.gate}],price:{base:.85*D,taxes:.1*D,fees:.05*D,total:D,currency:"USD"},seats:{available:(null===(w=e.seats)||void 0===w?void 0:w[A])||10,cabinClass:A},amenities:["Wifi","Meal","Entertainment"],carbonEmission:150,isEcoFriendly:!1,stops:0,totalDuration:k(e.duration)}},k=e=>{if(!e)return 120;let i=e.match(/(\d+)h/),t=e.match(/(\d+)m/);return 60*(i?parseInt(i[1]):0)+(t?parseInt(t[1]):0)},C=async i=>{var a,s,r,o,l,n,c,d,m,x,h;console.log("=== Flight Search Debug ==="),console.log("Raw searchData:",JSON.stringify(i,null,2)),t(!0),D(null);try{let t=(null===(a=i.flights)||void 0===a?void 0:a[0])||{},d={origin:(null===(s=t.from)||void 0===s?void 0:s.toUpperCase())||"",destination:(null===(r=t.to)||void 0===r?void 0:r.toUpperCase())||"",departureDate:t.departureDate||"",returnDate:t.returnDate||void 0,adults:(null===(o=i.passengers)||void 0===o?void 0:o.adults)||1,children:(null===(l=i.passengers)||void 0===l?void 0:l.children)||0,infants:(null===(n=i.passengers)||void 0===n?void 0:n.infants)||0,cabinClass:i.cabinClass||"economy",direct:(null===(c=i.filters)||void 0===c?void 0:c.directFlightsOnly)||!1,tripType:i.tripType||"one-way"};console.log("Initiating flight search with:",d);let m=[];try{let e=await N.ZL.searchFlights(d);console.log("Flight search response:",e),e.success&&e.flights&&e.flights.length>0&&(m=e.flights.map(S))}catch(e){console.warn("API call failed, using mock data:",e.message||e),m=E(d)}m.length>0?(y(m,m.length),e.push("/flights/results")):D("No flights found for this criteria. Please try different dates or destinations.")}catch(i){console.error("Search failed:",i);let e="An unexpected error occurred during search";"string"==typeof i?e=i:(null==i?void 0:i.message)?e=i.message:(null==i?void 0:null===(m=i.response)||void 0===m?void 0:null===(d=m.data)||void 0===d?void 0:d.message)?e=i.response.data.message:(null==i?void 0:null===(h=i.response)||void 0===h?void 0:null===(x=h.data)||void 0===x?void 0:x.errors)&&(e=i.response.data.errors.map(e=>e.msg).join(", ")),D(e)}finally{t(!1)}},E=e=>{let i=new Date(e.departureDate||new Date);return[{id:"UA",name:"United Airlines",code:"UA",logo:"/airlines/ua.png",rating:4.2},{id:"AA",name:"American Airlines",code:"AA",logo:"/airlines/aa.png",rating:4},{id:"DL",name:"Delta Air Lines",code:"DL",logo:"/airlines/dl.png",rating:4.5},{id:"BA",name:"British Airways",code:"BA",logo:"/airlines/ba.png",rating:4.3},{id:"EK",name:"Emirates",code:"EK",logo:"/airlines/ek.png",rating:4.8}].map((t,a)=>{let s=120+45*a,r=new Date(i);r.setHours(6+3*a,0,0,0);let o=new Date(r.getTime()+6e4*s),l=250+75*a+Math.floor(100*Math.random());return{id:"mock-flight-".concat(a+1),airline:t,legs:[{id:"leg-".concat(a+1),from:{code:e.origin||"NYC",name:"".concat(e.origin||"NYC"," International Airport"),city:e.origin||"New York",country:"USA",timezone:"America/New_York"},to:{code:e.destination||"LON",name:"".concat(e.destination||"LON"," International Airport"),city:e.destination||"London",country:"UK",timezone:"Europe/London"},departure:r.toISOString(),arrival:o.toISOString(),duration:s,flightNumber:"".concat(t.code).concat(1e3+111*a),aircraft:["Boeing 777-300ER","Airbus A350-900","Boeing 787-9","Airbus A380-800","Boeing 737 MAX"][a],terminal:String(Math.floor(5*Math.random())+1),gate:"".concat(String.fromCharCode(65+a)).concat(Math.floor(30*Math.random())+1)}],price:{base:.85*l,taxes:.1*l,fees:.05*l,total:l,currency:"USD"},seats:{available:5+Math.floor(20*Math.random()),cabinClass:e.cabinClass||"economy"},amenities:["WiFi","Meal","Entertainment","USB Power"],carbonEmission:150+.5*s,isEcoFriendly:a%3==0,stops:0===a?0:a%3==0?0:1,totalDuration:s}})},Z=[{icon:r.Z,title:"Book in Advance",description:"Save up to 30% by booking 21-60 days before your trip"},{icon:o.Z,title:"Flexible Dates",description:"Travel on weekdays or off-peak seasons for better deals"},{icon:l.Z,title:"Group Discounts",description:"Special rates for groups of 10 or more travelers"}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"relative bg-gradient-to-br from-primary to-secondary text-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Find Your Perfect Flight"}),(0,a.jsx)("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Search millions of flights from hundreds of airlines to find the best deals for your journey"})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8",children:[(0,a.jsx)(g.Z,{onSubmit:C,loading:i}),A&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-600",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Search Failed"}),(0,a.jsx)("p",{children:A})]})]}),(0,a.jsxs)("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Popular Routes"}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explore our most searched flight routes with competitive prices"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{from:"NYC",to:"LON",price:450,description:"New York to London"},{from:"LAX",to:"NYC",price:280,description:"Los Angeles to New York"},{from:"CHI",to:"MIA",price:220,description:"Chicago to Miami"},{from:"SFO",to:"SEA",price:180,description:"San Francisco to Seattle"}].map((e,i)=>(0,a.jsx)(u.Zb,{className:"hover:shadow-md transition-shadow cursor-pointer",children:(0,a.jsxs)(u.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("span",{className:"font-medium",children:e.from})]}),(0,a.jsx)(c.Z,{className:"h-4 w-4 text-gray-400 transform rotate-90"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.to}),(0,a.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})]})]}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"From"}),(0,a.jsx)("div",{className:"text-xl font-bold text-primary",children:(0,f.xG)(e.price)})]}),(0,a.jsx)(p.z,{size:"sm",variant:"outline",children:"Search"})]})]})},i))})]}),(0,a.jsx)("section",{className:"bg-white py-16",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Trending Destinations"}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover hot destinations with exclusive flight deals"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{city:"Barcelona",country:"Spain",price:599,image:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=400&h=300&fit=crop&auto=format",hotDeal:!0},{city:"Tokyo",country:"Japan",price:899,image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=300&fit=crop&auto=format",hotDeal:!1},{city:"Dubai",country:"UAE",price:799,image:"https://images.unsplash.com/photo-1512453979798-5ea266f31860?w=400&h=300&fit=crop&auto=format",hotDeal:!0},{city:"Paris",country:"France",price:650,image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=400&h=300&fit=crop&auto=format",hotDeal:!1}].map((e,i)=>(0,a.jsxs)(u.Zb,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.image,alt:e.city,className:"w-full h-48 object-cover"}),e.hotDeal&&(0,a.jsx)("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Hot Deal"})]}),(0,a.jsxs)(u.aY,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-1",children:e.city}),(0,a.jsx)("p",{className:"text-gray-600 mb-3",children:e.country}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Flights from"}),(0,a.jsx)("div",{className:"text-xl font-bold text-primary",children:(0,f.xG)(e.price)})]}),(0,a.jsxs)(p.z,{size:"sm",children:["Explore",(0,a.jsx)(d.Z,{className:"h-4 w-4 ml-2"})]})]})]})]},i))})]})}),(0,a.jsxs)("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Smart Travel Tips"}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Save money and travel smarter with these expert tips"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Z.map((e,i)=>{let t=e.icon;return(0,a.jsx)(u.Zb,{className:"text-center",children:(0,a.jsxs)(u.aY,{className:"pt-6",children:[(0,a.jsx)("div",{className:"feature-icon mx-auto mb-4",children:(0,a.jsx)(t,{className:"h-6 w-6"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]})},i)})})]}),(0,a.jsx)("section",{className:"bg-gray-100 py-16",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Complete Travel Solutions"}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Book everything you need for your perfect trip"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:m.Z,title:"Hotels",description:"Find the perfect accommodation with exclusive rates",href:"/hotels"},{icon:x.Z,title:"Car Rentals",description:"Rent a car for convenient travel at your destination",href:"/car-rental"},{icon:h.Z,title:"Travel Packages",description:"Save big with our curated flight and hotel packages",href:"/packages"}].map((e,i)=>{let t=e.icon;return(0,a.jsx)(u.Zb,{className:"text-center hover:shadow-md transition-shadow",children:(0,a.jsxs)(u.aY,{className:"pt-6",children:[(0,a.jsx)("div",{className:"feature-icon mx-auto mb-4",children:(0,a.jsx)(t,{className:"h-6 w-6"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,a.jsxs)(p.z,{variant:"outline",size:"sm",children:["Explore ",e.title]})]})},i)})})]})})]})}}},function(e){e.O(0,[8590,1299,7046,3186,5702,7500,1442,9474,2391,5644,4811,2971,2117,1744],function(){return e(e.s=8925)}),_N_E=e.O()}]);