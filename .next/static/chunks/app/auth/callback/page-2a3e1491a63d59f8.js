(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4453],{3021:function(e,r,s){Promise.resolve().then(s.bind(s,9838))},9838:function(e,r,s){"use strict";s.r(r);var t=s(7437),n=s(2265),i=s(9376),o=s(2391);r.default=()=>{let e=(0,i.useRouter)(),r=(0,i.useSearchParams)(),{loginWithGoogle:s}=(0,o.tN)(),[a,l]=(0,n.useState)("loading"),[c,d]=(0,n.useState)("Processing your login...");return(0,n.useEffect)(()=>{(async()=>{let t=r.get("provider"),n=r.get("data"),i=r.get("error");if(i){l("error"),d("Login failed: ".concat(i)),setTimeout(()=>e.push("/auth/login"),3e3);return}if("google"===t&&n)try{let r=JSON.parse(atob(n));await s(r),l("success"),d("Login successful! Redirecting..."),setTimeout(()=>e.push("/dashboard"),1500)}catch(r){console.error("Error processing OAuth callback:",r),l("error"),d("Failed to process login. Please try again."),setTimeout(()=>e.push("/auth/login"),3e3)}else l("error"),d("Invalid callback. Please try again."),setTimeout(()=>e.push("/auth/login"),3e3)})()},[r,e,s]),(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center p-8",children:["loading"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mx-auto mb-6"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:c})]}),"success"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-green-700",children:c})]}),"error"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-red-700",children:c}),(0,t.jsx)("p",{className:"text-gray-500 mt-2",children:"Redirecting to login page..."})]})]})})}}},function(e){e.O(0,[1299,2391,2971,2117,1744],function(){return e(e.s=3021)}),_N_E=e.O()}]);